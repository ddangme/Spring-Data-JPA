# λ©μ°¨
π€[μ‚¬μ©μ μ •μ λ¦¬ν¬μ§€ν† λ¦¬ κµ¬ν„](#μ‚¬μ©μ-μ •μ-λ¦¬ν¬μ§€ν† λ¦¬-κµ¬ν„)  
π€[Auditing](#auditing)  
π€[Web ν™•μ¥ - λ„λ©”μΈ ν΄λμ¤ μ»¨λ²„ν„°](#web-ν™•μ¥---λ„λ©”μΈ-ν΄λμ¤-μ»¨λ²„ν„°)  
π€[Web ν™•μ¥ - νμ΄μ§•κ³Ό μ •λ ¬](#web-ν™•μ¥---νμ΄μ§•κ³Ό-μ •λ ¬)  

## μ‚¬μ©μ μ •μ λ¦¬ν¬μ§€ν† λ¦¬ κµ¬ν„
- μ¤ν”„λ§ λ°μ΄ν„° JPA λ¦¬ν¬μ§€ν† λ¦¬λ” μΈν„°νμ΄μ¤λ§ μ •μν•κ³  κµ¬ν„μ²΄λ” μ¤ν”„λ§μ΄ μλ™ μƒμ„±ν•λ‹¤.
- μ¤ν”„λ§ λ°μ΄ν„° JPAκ°€ μ κ³µν•λ” μΈν„°νμ΄μ¤λ¥Ό μ§μ ‘ κµ¬ν„ν•΄μ•Ό ν•λ” κΈ°λ¥μ΄ μμ„ μ μλ‹¤.
- λ‹¤μ–‘ν• μ΄μ λ΅ μΈν„°νμ΄μ¤μ λ©”μ„λ“λ¥Ό μ§μ ‘ κµ¬ν„ν•κ³  μ‹¶λ‹¤λ©΄?
  - JPA μ§μ ‘ μ‚¬μ©ν•κΈ° (`EntityManager`)
  - μ¤ν”„λ§ JDBC Template μ‚¬μ©
  - MyBatis μ‚¬μ©
  - λ°μ΄ν„°λ² μ΄μ¤ μ»¤λ„¥μ… μ§μ ‘ μ‚¬μ© λ“±λ“±
  - Querydsl μ‚¬μ©

### μ‚¬μ©μ μ •μ μΈν„°νμ΄μ¤
```java
public interface MemberRepositoryCustom {
    List<Member> findMemberCustom();
}
```

### μ‚¬μ©μ μ •μ μΈν„°νμ΄μ¤ κµ¬ν„ ν΄λμ¤
```java
@RequiredArgsConstructor
public class MemberRepositoryImpl implements MemberRepositoryCustom {
    
    private final EntityManager em;
    
    @Override
    public List<Member> findMemberCustom() {
        return em.createQuery("SELECT m FROM Member m")
                .getResultList();
    }
}
```

### μ‚¬μ©μ μ •μ μΈν„°νμ΄μ¤ μƒμ†
```java
public interface MemberRepository extends JpaRepository<Member, Long>, MemberRepositoryCustom { }
```

### μ‚¬μ©μ μ •μ λ©”μ„λ“ νΈμ¶ μ½”λ“
```java
List<Member> result = memberRepository.findMemberCustom();
```

### μ‚¬μ©μ μ •μ κµ¬ν„ ν΄λμ¤
- κ·μΉ™: λ¦¬ν¬μ§€ν† λ¦¬ μΈν„°νμ΄μ¤ μ΄λ¦„ + `Impl`
- μ¤ν”„λ§ λ°μ΄ν„° JPAκ°€ μΈμ‹ν•΄μ„ μ¤ν”„λ§ λΉμΌλ΅ λ“±λ΅

> π€ Impl λ€μ‹  λ‹¤λ¥Έ μ΄λ¦„μΌλ΅ λ³€κ²½ν•κ³  μ‹¶λ‹¤λ©΄?
> 1. JavaConfig μ„¤μ •  
>     ```java
>     @EnableJpaRepositories(basePackages = "study.datajpa.repository", repositoryImplementationPostfix = "Impl")
>     ```
> 2. XML μ„¤μ •
>     ```xml
>    <repositories base-package="study.datajpa.repository" repository-impl-postfix="Impl" />
>     ```
> μ‹¤λ¬΄μ—μ„λ” μ£Όλ΅ QueryDSL μ΄λ‚ SpringJdbcTemplateμ„ ν•¨κ» μ‚¬μ©ν•  λ• μ‚¬μ©μ μ •μ λ¦¬ν¬μ§€ν† λ¦¬ κΈ°λ¥μ„ μμ£Ό μ‚¬μ©ν•λ‹¤.  
> ν•­μƒ μ‚¬μ©μ μ •μ λ¦¬ν¬μ§€ν† λ¦¬κ°€ ν•„μ”ν• κ²ƒμ€ μ•„λ‹λ‹¤. κ·Έλƒ¥ μ„μμ λ¦¬ν¬μ§€ν† λ¦¬λ¥Ό λ§λ“¤μ–΄λ„λλ‹¤.
> μλ¥Ό λ“¤μ–΄ `MemberQueryRepository`λ¥Ό μΈν„°νμ΄μ¤κ°€ μ•„λ‹ ν΄λμ¤λ΅ λ§λ“¤κ³  μ¤ν”„λ§ λΉμΌλ΅ λ“±λ΅ν•΄μ„ μ§μ ‘ μ‚¬μ©ν•΄λ„ λλ‹¤.

### μ‚¬μ©μ μ •μ λ¦¬ν¬μ§€ν† λ¦¬ κµ¬ν„ μµμ‹  λ°©μ‹
μ¤ν”„λ§ λ°μ΄ν„° 2.x λ¶€ν„°λ” μ‚¬μ©μ μ •μ κµ¬ν„ ν΄λμ¤μ— λ¦¬ν¬μ§€ν† λ¦¬ μΈν„°νμ΄μ¤ μ΄λ¦„ + `Impl`μ„ μ μ©ν•λ” λ€μ‹ μ—
μ‚¬μ©μ μ •μ μΈν„°νμ΄μ¤ λ… + `Impl` λ°©μ‹λ„ μ§€μ›ν•λ‹¤.  
μλ¥Ό λ“¤μ–΄μ„ μ„ μμ μ `MemberRepositoryImpl` λ€μ‹ μ— `MemberRepositoryCustomImpl` μ‘μ„±ν•΄λ„ λλ‹¤.

#### μµμ‹  μ‚¬μ©μ μ €μ μΈν„°νμ΄μ¤ κµ¬ν„ ν΄λμ¤ μμ 
```java
@RequiredArgsConstructor
public class MemberRepositoryCustomImpl implements MemberRepositoryCustom {
    private final EntityManager em;
    
    @Override
    public List<Member> findMemberCustom() {
        return em.createQuery("select m from Member m")
            .getResultList();
    }
}
```
κΈ°μ΅΄ λ°©μ‹λ³΄λ‹¤ μ΄ λ°©μ‹μ΄ μ‚¬μ©μ μ •μ μΈν„°νμ΄μ¤ μ΄λ¦„κ³Ό κµ¬ν„ ν΄λμ¤ μ΄λ¦„μ΄ λΉ„μ·ν•λ―€λ΅ λ” μ§κ΄€μ μ΄λ‹¤.
μ¶”κ°€λ΅ μ—¬λ¬ μΈν„°νμ΄μ¤λ¥Ό λ¶„λ¦¬ν•΄μ„ κµ¬ν„ν•λ” κ²ƒλ„ κ°€λ¥ν•κΈ° λ•λ¬Έμ— μƒλ΅­κ² λ³€κ²½λ μ΄ λ°©μ‹μ„ μ‚¬μ©ν•λ” κ²ƒμ„ λ” κ¶μ¥ν•λ‹¤.

## Auditing
## Web ν™•μ¥ - λ„λ©”μΈ ν΄λμ¤ μ»¨λ²„ν„°
## Web ν™•μ¥ - νμ΄μ§•κ³Ό μ •λ ¬